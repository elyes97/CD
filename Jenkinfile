pipeline {
  environment {
    registry = "elyes97/cd"
    registryCredential = 'dockerhub12'
    dockerImage = ''
  }
  agent any
  stages 
  {
  stage('clean') 
  {
    steps {
     def mvnHome = tool 'Maven'
     sh label: '', script: '${MvnHome}/bin/mvn clean' 
	}	  
  }
  stage('package') 
  {
	steps {
     def mvnHome = tool 'Maven'

         sh label: '', script: '${MvnHome}/bin/mvn package'     
	}	  
  }
  stage('create docker image') 
  {
	steps {
     def mvnHome = tool 'Maven'

          sh label: '', script: '${MvnHome}/bin/mvn clean install'   
	  }    
 }
    

    
  }
}

