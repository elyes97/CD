pipeline {
  environment {
    registry = "elyes97/cd"
    registryCredential = 'dockerhub12'
    dockerImage = ''
  }
  agent any
  stages 
  {
  stage('clean') 
  {
    
     def mvnHome = tool name: 'Maven', type: 'maven'
     sh label: '', script: '${MvnHome}/bin/mvn clean' 
		  
  }
  stage('package') 
  {
	
	      def mvnHome = tool name: 'Maven', type: 'maven'

         sh label: '', script: '${MvnHome}/bin/mvn package'     
		  
  }
  stage('create docker image') 
  {
	
	      def mvnHome = tool name: 'Maven', type: 'maven'

          sh label: '', script: '${MvnHome}/bin/mvn clean install'   
	      
 }
    

    
  }
}

